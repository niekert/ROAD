<ui:composition template="WEB-INF/template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:fn="http://java.sun.com/jsp/jstl/functions">
    <ui:param name="title" value="BillSystem"/>
    <ui:param name="url" value="/billSystem/"/>

    <ui:define name="content">
        <h:panelGroup layout="block">
            <div class="pill pill-autosize">
                <h:form id="cityRateForm" styleClass="form-horizontal">
                    <h4>Change a kilometer price</h4>

                    <div class="form-group">
                        <p:outputLabel for="citySelect" styleClass="col-sm-3 control-label"
                                       value="City"/>
                        <div class="col-sm-9">
                            <h:selectOneMenu id="citySelect" value="#{priceBean.city}"
                                             styleClass="form-control">
                                <f:selectItems value="#{priceBean.cities}" var="city"
                                               itemLabel="#{city.cityName}" itemValue="#{city}" />
                            </h:selectOneMenu>
                        </div>
                    </div>

                    <div class="form-group">
                        <p:outputLabel for="txtPrice" styleClass="col-sm-3 control-label"
                                       value="Price"/>
                        <div class="col-sm-9">
                            <h:inputText id="txtPrice" value="#{priceBean.price}" styleClass="form-control"/>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-sm-offset-3 col-sm-10">
                            <p:commandButton id="btnSubmit" value="Submit" styleClass="btn btn-success"
                                             update="cityRateForm"
                                             actionListener="#{priceBean.adjustRate}"/>

                            <div style="display:inline-block; margin-left:12px;">
                                <p:ajaxStatus style="width:16px;height:16px;" id="ajaxStatusPanel">
                                    <f:facet name="start">
                                        <div class="ajax-loader"></div>
                                    </f:facet>
                                </p:ajaxStatus>
                            </div>

                        </div>
                    </div>
                </h:form>
            </div>
        </h:panelGroup>
    </ui:define>


</ui:composition>