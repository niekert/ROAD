<ui:composition template="../template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:fn="http://java.sun.com/jsp/jstl/functions">

    <ui:define name="content">
        <f:event type="preRenderView" listener="#{userBean.redirectIfNotLoggedIn}"/>

        <div class="pill">
            <div id="carSelector">
                <p:outputLabel value="Select vehicle" for="selectCar"/>
                <h:selectOneMenu id="selectCar" value="#{carTrackerBean.selectedVehicle}" style="width:150px;">
                      <p:ajax listener="#{carTrackerBean.vehicleChanged}" update="carDetails"/>
                    <f:selectItems value="#{carTrackerBean.vehicles}"/>
                </h:selectOneMenu>
            </div>

            <h:panelGroup layout="block" id="carDetails" rendered="#{carTrackerBean.selectedVehicle != null}}">
                <p:outputLabel id="lblCar" value="#{carTrackerBean.selectedVehicle.licensePlate}"/>

            </h:panelGroup>
        </div>

    </ui:define>


</ui:composition>

